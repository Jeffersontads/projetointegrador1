<ion-header>
  <ion-navbar>
    <!-- <ion-buttons>
      <button size="medium" color="danger" navPop>VOLTAR</button>
    </ion-buttons> -->
    <ion-title>REGISTROS / OCORRÊNCIAS</ion-title>
  </ion-navbar>
</ion-header>

<ion-content class="backgroundPage">
  <div style="text-align: center; color:#e8e8e8; margin-bottom: 1em;"> 
  <h2>Data: {{item.data | date: "dd/MM/yyyy"}} </h2>
  <h3>Registros:<b *ngFor="let reg of item.registros"> {{reg.horario}} - </b> </h3>
  <br><h3> OCORRÊNCIAS </h3>
  </div>


  <!-- <ion-list>
    <ion-item *ngFor="let o of item.ocorrencias">
      <h2>{{o.tipo_ocorrencia.codigo}} - {{o.tipo_ocorrencia.nome}} </h2>
      <button color="danger" ion-item>Justificar</button>

    </ion-item>
  </ion-list> -->

  <ion-card-content *ngFor="let o of item.ocorrencias"
  style="border: 10px solid #818181; background-color: #e8e8e8;" >
    <h3>CÓDIGO: {{o.tipo_ocorrencia.codigo}}</h3>
    <h5 style="text-align: center">{{o.tipo_ocorrencia.nome}} </h5>

    <div *ngIf="o.justificativa">
        <hr>
        <h3><b>JUSTIFICATIVA:</b></h3>
        <div style="text-align: center; margin-bottom: 3em;">
        <h5>{{o.justificativa.tipo_justificativa.codigo}}-{{o.justificativa.tipo_justificativa.nome}}</h5>
        <h5>Status: {{o.justificativa.status}} </h5>
        </div>
    </div>

    <button *ngIf="podeEditarJustificativa(o.justificativa)"
     color="pontuall" ion-item (click)="justificarOcorrencia(o)" >EDITAR JUSTIFICATIVA</button>

  </ion-card-content>
  <!-- Não precisa mais esse voltar... mudei de Modal para Page esse trem... -->
  <!-- <button color="secondary" expand="block" fill="solid" ion-item>VOLTAR</button> -->

  <!-- <ion-card-content *ngFor="let o of item.ocorrencias"
    style="border: 3px solid #e8e8e8">

      <p><b>Código: {{o.tipo_ocorrencia.codigo}}</b></p>
      <p>{{o.tipo_ocorrencia.nome}}</p>
      <p>Justificativa:</p>
      <ion-select [(ngModel)]="model.area_id">
          <ion-option *ngFor="let area of listaAreas" value={{area.id}} >{{area.nome}}</ion-option>
        </ion-select>

          <ion-grid>
            <ion-row>
              <ion-col>
                 <button ion-button color="success">Aprovar</button>
              </ion-col>
              <ion-col>
                  <button ion-button color="danger">Não Aprovar</button>
              </ion-col>
            </ion-row>
            </ion-grid>
          </ion-card-content>


          <ion-select [(ngModel)]="model.area_id">
              <ion-option *ngFor="let area of listaAreas" value={{area.id}} >{{area.nome}}</ion-option>
            </ion-select>
 -->







</ion-content>
